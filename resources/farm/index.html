<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="{{pluResPath}}farm/index.css" />
    <link rel="shortcut icon" href="#" />
    <style>
        #container {
            background: url("{{pluResPath}}help/bg.jpg") center !important;
            background-size: cover !important;
        }
    </style>
</head>

<body>
    <div class="container" id="container">
        <!-- Header -->
        <div class="header">
            <div class="title">
                <span class="title-icon">{{if isOwner}}ğŸŒ¾{{else}}ğŸ‘€{{/if}}</span>
                {{if isOwner}}æˆ‘çš„å†œåœº{{else}}{{playerName}} çš„å†œåœº{{/if}}
            </div>
        </div>

        <!-- Operation Result (conditional) -->
        {{if operationResult}}
        <div class="operation-result result-{{operationResult.type}}">
            <div class="result-icon">{{operationResult.icon}}</div>
            <div class="result-content">
                <div class="result-title">{{operationResult.title}}</div>
                <div class="result-details">
                    {{each operationResult.details detail}}
                    <span class="result-detail">{{detail}}</span>
                    {{/each}}
                </div>
            </div>
        </div>
        {{/if}}

        <!-- Status Panel -->
        <div class="status-panel">
            <div class="user-info">
                <div class="stat-box">
                    <span class="stat-icon">ğŸ‘¤</span>
                    <div class="stat-content">
                        <div class="stat-value">Lv.{{level}}</div>
                        <div class="stat-label">ç­‰çº§</div>
                    </div>
                </div>
                <div class="stat-box">
                    <span class="stat-icon">ğŸ’°</span>
                    <div class="stat-content">
                        <div class="stat-value">{{gold}}</div>
                        <div class="stat-label">é‡‘å¸</div>
                    </div>
                </div>
                <div class="stat-box">
                    <span class="stat-icon">ğŸï¸</span>
                    <div class="stat-content">
                        <div class="stat-value">{{landCount}} / {{maxLandCount}}</div>
                        <div class="stat-label">åœŸåœ°</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Land Grid -->
        <div class="land-grid">
            {{each lands land}}
            <div class="land-card quality-{{land.quality}}">
                <div class="card-header">
                    <span class="land-id">#{{land.id}}</span>
                    <span class="quality-badge q-{{land.quality}}">{{land.qualityIcon}} {{land.qualityName}}</span>
                </div>
                <div class="card-body">
                    {{if land.isEmpty}}
                    <div class="crop-icon empty-state">ğŸŒ±</div>
                    <div class="crop-name empty-name">é—²ç½®ä¸­</div>
                    {{else}}
                    <!-- Health Bar -->
                    <div class="health-bar-container">
                        <span class="health-icon {{if land.healthLevel == 'low'}}pulse{{/if}}"></span>
                        <div class="health-bar">
                            <div class="health-fill health-{{land.healthLevel}}" style="width: {{land.health}}%;"></div>
                        </div>
                        <span class="health-value">{{land.health}}%</span>
                    </div>
                    <!-- Growth Bar -->
                    <div class="growth-bar-container">
                        <span class="growth-icon"></span>
                        <div class="growth-bar">
                            {{if land.status == 'mature'}}
                            <div class="growth-fill growth-mature" style="width: 100%;"></div>
                            {{else}}
                            <div class="growth-fill {{if land.hasPests || land.needsWater}}growth-danger{{else}}growth-growing{{/if}}" style="width: {{land.growthPercent}}%;"></div>
                            {{/if}}
                        </div>
                        <span class="growth-value">{{if land.status == 'mature'}}100%{{else}}{{land.growthPercent}}%{{/if}}</span>
                    </div>
                    <div class="crop-icon">{{land.cropIcon}}</div>
                    <div class="crop-name">{{land.cropName}}</div>
                    {{/if}}
                </div>
                <div class="card-footer">
                    {{if land.needsWater}}
                    <span class="status-badge bg-water">ğŸ’§ ç¼ºæ°´</span>
                    {{/if}}
                    {{if land.hasPests}}
                    <span class="status-badge bg-pest">ğŸ› å®³è™«</span>
                    {{/if}}
                    {{if land.stealable && !isOwner}}
                    <span class="status-badge bg-steal">ğŸ–ï¸ å¯å·</span>
                    {{/if}}
                </div>
            </div>
            {{/each}}
        </div>

        <!-- Footer -->
        <div class="footer">
            <span>ğŸ’¡ æç¤ºï¼š</span>
            <span class="key-tip">#ncç§æ¤[ä½œç‰©][åœ°å—]</span>
            <span class="key-tip">#ncæ”¶è·</span>
            <span class="key-tip">#ncæµ‡æ°´å…¨éƒ¨</span>
        </div>
    </div>
</body>

</html>
