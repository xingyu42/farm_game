# å¸‚åœºç»æµç³»ç»Ÿ - ç²¾ç®€ç‰ˆè®¾è®¡æŒ‡å—

> åŸºäºåŸç ”ç©¶æŠ¥å‘Šç­›é€‰ï¼Œèšç„¦å¯è½åœ°æœºåˆ¶
> æ›´æ–°: 2025-12-09

---

## ä¸€ã€é¡¹ç›®ç°çŠ¶

### 1.1 å·²å®ç°

```
âœ… çº¯ä¾›åº”é©±åŠ¨å®šä»·: price = basePrice Ã— (1 + ln(ratio) Ã— K)
âœ… 7æ—¥åŸºå‡†ä¾›åº”é‡
âœ… ä»·æ ¼é™å¹… [50%, 150%]
âœ… æ¯æ—¥04:00æ›´æ–°
âœ… RedisæŒä¹…åŒ–
```

### 1.2 ç»æµå¹³è¡¡è¯Šæ–­

```
æ°´é¾™å¤´ (æ¥æº)                 æ°´æ§½ (å»å‘)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ ä½œç‰©å‡ºå”® â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        â€¢ ç§å­è´­ä¹° â–ˆâ–ˆâ–ˆâ–ˆ
â€¢ ç­¾åˆ°å¥–åŠ± â–ˆâ–ˆâ–ˆ               â€¢ å·¥å…·è´­ä¹° â–ˆâ–ˆ
â€¢ ä»»åŠ¡å¥–åŠ± â–ˆâ–ˆ                â€¢ (ç¼ºå¤±!)

âš ï¸ è¯Šæ–­: Faucet >> Sink â†’ é•¿æœŸå¿…ç„¶é€šèƒ€
```

---

## äºŒã€æ ¸å¿ƒè®¾è®¡åŸåˆ™

### 2.1 ä»·å€¼é“¾æ‹‰åŠ¨

```
ç§æ¤ â†’ æ”¶è· â†’ å‡ºå”® â†’ æˆå°±æ„Ÿ(é”šç‚¹)
                â†‘
           å¼ºæ°´æ§½æ‹‰åŠ¨æ•´æ¡é“¾
```

### 2.2 æºæ§½åŠŸç‡åŒ¹é…

| æºç±»å‹ | æ§½ç±»å‹ | åŸåˆ™ |
|:---|:---|:---|
| å®šé‡æº | å›ºå®šæ§½ | ç®€å•å¯¹å†² |
| æ»´æµæº | é‡å¤æ§½ | æŒç»­å¹³è¡¡ |
| ç ”ç£¨æº | æŒ‡æ•°æ§½ | é«˜åŠŸç‡åŒ¹é… |

---

## ä¸‰ã€èåˆç®—æ³•æ–¹æ¡ˆ

### 3.1 è®¾è®¡ç†å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¿ç•™é¡¹ç›®ä¼˜åŠ¿              +    å¼•å…¥Ferngillä¼˜åŠ¿                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚  â€¢ çœŸå®ä¾›åº”é‡é©±åŠ¨                â€¢ æ¯æ—¥éšæœºæ‰°åŠ¨ (å¸‚åœºæƒ…ç»ª)       â”‚
â”‚  â€¢ å¯¹æ•°å‡½æ•°è®¡ç®—                  â€¢ å­£èŠ‚æ€§æ³¢åŠ¨æ”¾å¤§               â”‚
â”‚  â€¢ 7æ—¥åŸºå‡†å¹³å‡                   â€¢ å¯é…ç½®æ³¢åŠ¨ç‡                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 èåˆå…¬å¼

```
ratio = (baseSupply / actualSupply) Ã— (1 + noise)
price = basePrice Ã— (1 + ln(ratio) Ã— K)

å…¶ä¸­:
  noise ~ Normal(0, Ïƒ)
  æ™®é€šç‰©å“: Ïƒ = 0.05 (Â±10% æ³¢åŠ¨)
  å½“å­£ç‰©å“: Ïƒ = 0.10 (Â±20% æ³¢åŠ¨)
```

### 3.3 æ•ˆæœå¯¹æ¯”

```
åœºæ™¯: èƒ¡èåœè¿ç»­3å¤©ä¾›åº”ç›¸åŒ

ã€çº¯ç¡®å®šæ€§ã€‘                    ã€èåˆç®—æ³•ã€‘
Day 1: price=100               Day 1: price=100.3 (+0.3%)
Day 2: price=100 (ç›¸åŒ)        Day 2: price=99.3  (-0.7%)
Day 3: price=100 (ç›¸åŒ)        Day 3: price=100.2 (+0.2%)
       â†“                              â†“
æ„Ÿå—: æ— èŠ                     æ„Ÿå—: å¸‚åœºæœ‰"å‘¼å¸æ„Ÿ"
```

### 3.4 é…ç½®å‚æ•°

```yaml
# market.yaml
pricing:
  sensitivity: 0.1
  min_ratio: 0.5
  max_ratio: 1.5

  # å¸‚åœºæƒ…ç»ªæ³¢åŠ¨
  market_sentiment:
    enabled: true
    normal_volatility: 0.05
    seasonal_volatility: 0.10
    max_noise: 0.15
```

### 3.5 å®ç°ä»£ç 

```javascript
// Box-Muller æ­£æ€åˆ†å¸ƒé‡‡æ · (æ— å¤–éƒ¨ä¾èµ–)
function sampleNormal(mean, stdDev) {
  const u1 = Math.random();
  const u2 = Math.random();
  const z = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
  return mean + z * stdDev;
}

// èåˆåçš„ä¾›åº”æ¯”ç‡
_calculateSupplyRatio(baseSupply, actualSupply, isInSeason) {
  const rawRatio = baseSupply / actualSupply;
  const sigma = isInSeason ? 0.10 : 0.05;
  const noise = Math.max(-0.15, Math.min(0.15, sampleNormal(0, sigma)));
  return rawRatio * (1 + noise);
}
```

> **âš ï¸ å½“æ—¥é”ä»·æœºåˆ¶**: ä»·æ ¼åœ¨æ¯æ—¥04:00æ›´æ–°åå…¨å¤©é”å®šï¼Œå½“æ—¥å‡ºå”®ä¸å½±å“å½“æ—¥ä»·æ ¼ï¼Œæ¬¡æ—¥ç”Ÿæ•ˆã€‚

### 3.6 å­£èŠ‚æ€§æ³¢åŠ¨å·®å¼‚ (æ‰©å±•)

> ğŸ“Œ å½“å‰é¡¹ç›®æ— å­£èŠ‚ç³»ç»Ÿï¼Œæ­¤èŠ‚ä½œä¸º**æœªæ¥æ‰©å±•**é¢„ç•™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­£èŠ‚æ€§æ³¢åŠ¨è®¾è®¡ (Ferngillæ¨¡å¼)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ç‰©å“ç±»å‹          æ³¢åŠ¨ç‡Ïƒ      æ•ˆæœ                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€                            â”‚
â”‚  å½“å­£ä½œç‰©          0.10         ä»·æ ¼æ³¢åŠ¨å¤§ (Â±20%)               â”‚
â”‚  éå½“å­£ä½œç‰©        0.05         ä»·æ ¼ç¨³å®š (Â±10%)                 â”‚
â”‚  æ— å­£èŠ‚å±æ€§        0.05         é»˜è®¤ç¨³å®š                        â”‚
â”‚                                                                 â”‚
â”‚  è®¾è®¡æ„å›¾:                                                      â”‚
â”‚  â€¢ å½“å­£ä½œç‰©ä¾›åº”å……è¶³ â†’ ä½†ä»·æ ¼ä¸ç¡®å®šæ€§é«˜ â†’ åˆ›é€ æŠ•æœºç©ºé—´           â”‚
â”‚  â€¢ éå½“å­£ä½œç‰©ç¨€ç¼º â†’ ä»·æ ¼ç¨³å®š â†’ å›¤è´§æœ‰ä¿éšœ                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°å‰æ**: éœ€å…ˆå®ç°å­£èŠ‚ç³»ç»Ÿï¼Œä¸ºä½œç‰©æ·»åŠ  `seasons` å±æ€§

```yaml
# crops.yaml æ‰©å±•ç¤ºä¾‹
carrot:
  name: èƒ¡èåœ
  seasons: [spring, fall]  # æ˜¥ç§‹å­£ä½œç‰©

wheat:
  name: å°éº¦
  seasons: [summer]        # å¤å­£ä½œç‰©
```

```javascript
// å­£èŠ‚åˆ¤æ–­é€»è¾‘ (é¢„ç•™)
function isInSeason(itemId, currentSeason) {
  const item = getItemConfig(itemId);
  if (!item.seasons || item.seasons.length === 0) {
    return false; // æ— å­£èŠ‚å±æ€§ï¼Œä½¿ç”¨é»˜è®¤æ³¢åŠ¨ç‡
  }
  return item.seasons.includes(currentSeason);
}
```

---

## å››ã€æ¨èå®æ–½æ–¹æ¡ˆ

### 4.1 äº¤æ˜“ç¨ (ä¼˜å…ˆçº§: é«˜)

```
å¸‚åœºå‡ºå”® â†’ æ‰£é™¤ 3% æ‰‹ç»­è´¹ â†’ é‡‘å¸é”€æ¯
å°é¢å…ç¨: å•ç¬” < 100é‡‘å¸

ç†è®ºä¾æ®:
â€¢ EVE Online äº¤æ˜“ç¨å æ°´æ§½ 35%
â€¢ RuneScape 2% ç¨æˆåŠŸæ§åˆ¶é€šèƒ€
```

### 4.2 ä»·æ ¼ç†”æ–­ (ä¼˜å…ˆçº§: ä¸­)

```
å•æ—¥å˜åŒ– â‰¤ Â±15%
è¿ç»­ç†”æ–­3å¤© â†’ å›è°ƒè‡³7æ—¥å‡ä»·

ä½œç”¨: é˜²æ­¢æç«¯æ³¢åŠ¨
```

### 4.3 è¡Œä¸ºç»æµå­¦UI (ä¼˜å…ˆçº§: ä½)

```
æ˜¾ç¤º: "è¾ƒæ˜¨æ—¥ â†“15%" (æŸå¤±åŒæ¶)
æ˜¾ç¤º: "æ¥è¿‘å†å²æœ€ä½!" (é”šå®šæ•ˆåº”)
æ˜¾ç¤º: "7æ—¥è¶‹åŠ¿ ğŸ“ˆ" (è¶‹åŠ¿é¢„æœŸ)
```

---

## äº”ã€å‰”é™¤å†…å®¹

| å†…å®¹ | ç†ç”± |
|:---|:---|
| EVE ç©å®¶é©±åŠ¨ç»æµ | éœ€æ•°ä¸‡æ´»è·ƒç”¨æˆ· |
| åŒºåŸŸå·®å¼‚/å¤šæ‘åº„ | æ¶æ„å¤æ‚åº¦è¿‡é«˜ |
| 4x4 æ£€æµ‹è§„åˆ™ | è¿‡åº¦è®¾è®¡ |
| ç©å®¶æˆ˜äº‰äº‹ä»¶ | è°ƒæ€§ä¸ç¬¦ |
| èµŒåšæ°´æ§½ | ç©å®¶åæ„Ÿ |

---

## å…­ã€å®æ–½è·¯çº¿

```
Phase 1 - æ­¢è¡€ (1å‘¨)
â”œâ”€ äº¤æ˜“ç¨ 3%
â””â”€ å°é¢å…ç¨

Phase 2 - å¢å¼º (2å‘¨)
â”œâ”€ èåˆç®—æ³• (å¸‚åœºæƒ…ç»ªæ‰°åŠ¨)
â”œâ”€ ä»·æ ¼ç†”æ–­æœºåˆ¶
â””â”€ å†å²è¶‹åŠ¿å±•ç¤º

Phase 3 - è§‚å¯Ÿ
â”œâ”€ ç›‘æ§é‡‘å¸æ€»é‡
â””â”€ åŠ¨æ€è°ƒæ•´å‚æ•°
```

---

## ä¸ƒã€å‚è€ƒèµ„æº

- [Value Chains - Lost Garden](https://lostgarden.com/2021/12/12/value-chains/)
- [Ferngill Simple Economy](https://github.com/paulsteele/Ferngill-Simple-Economy)

---

*ç²¾ç®€è‡ª market-economy-research.md*
